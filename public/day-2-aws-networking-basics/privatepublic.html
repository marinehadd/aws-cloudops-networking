<!DOCTYPE html>
<html class="no-js" lang="en-US" prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb#">
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta property="og:title" content="https://networking.aws-cloudops.com" />s
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://networking.aws-cloudops.com/" />
    <meta property="og:image" content="https://networking.aws-cloudops.com/images/routericon.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="generator" content="Hugo 0.80.0" />
    <meta name="description" content="Amazon CloudOps Networking Workshop">
<meta name="author" content="Marine Haddad">

    <link rel="icon" href="../images/favicon.png" type="image/png">

    <title>Private/Public concepts :: Amazon CloudOps Networking Workshop</title>

    
    <link href="../css/nucleus.css?1615889543" rel="stylesheet">
    <link href="../css/all.css?1615889543" rel="stylesheet">
    <link href="../css/hybrid.css?1615889543" rel="stylesheet">
    <link href="../css/featherlight.min.css?1615889543" rel="stylesheet">
    <link href="../css/perfect-scrollbar.min.css?1615889543" rel="stylesheet">
    <link href="../css/auto-complete.css?1615889543" rel="stylesheet">
    <link href="../css/theme.css?1615889543" rel="stylesheet">
    <link href="../css/hugo-theme.css?1615889543" rel="stylesheet">
    <link href="../css/jquery-ui.min.css?1615889543" rel="stylesheet">
    
      <link href="../css/theme-mine.css?1615889543" rel="stylesheet">
    

    <script src="../js/jquery-3.3.1.min.js?1615889543"></script>
    <script src="../js/jquery-ui-1.12.1.min.js?1615889543"></script>


    <style type="text/css">
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
        :not(pre) > code + span.copy-to-clipboard {
            display: none;
        }
      
    </style>
    
  </head>
  <body class="" data-url="../day-2-aws-networking-basics/privatepublic.html">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <a href="../" title="Go home"><svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 30" width="60%" style="padding:20px 0px;"><defs><style>.cls-1{fill:#fff;}.cls-2{fill:#f90;fill-rule:evenodd;}</style></defs><title>AWS-Logo_White-Color</title><path class="cls-1" d="M14.09,10.85a4.7,4.7,0,0,0,.19,1.48,7.73,7.73,0,0,0,.54,1.19.77.77,0,0,1,.12.38.64.64,0,0,1-.32.49l-1,.7a.83.83,0,0,1-.44.15.69.69,0,0,1-.49-.23,3.8,3.8,0,0,1-.6-.77q-.25-.42-.51-1a6.14,6.14,0,0,1-4.89,2.3,4.54,4.54,0,0,1-3.32-1.19,4.27,4.27,0,0,1-1.22-3.2A4.28,4.28,0,0,1,3.61,7.75,6.06,6.06,0,0,1,7.69,6.46a12.47,12.47,0,0,1,1.76.13q.92.13,1.91.36V5.73a3.65,3.65,0,0,0-.79-2.66A3.81,3.81,0,0,0,7.86,2.3a7.71,7.71,0,0,0-1.79.22,12.78,12.78,0,0,0-1.79.57,4.55,4.55,0,0,1-.58.22l-.26,0q-.35,0-.35-.52V2a1.09,1.09,0,0,1,.12-.58,1.2,1.2,0,0,1,.47-.35A10.88,10.88,0,0,1,5.77.32,10.19,10.19,0,0,1,8.36,0a6,6,0,0,1,4.35,1.35,5.49,5.49,0,0,1,1.38,4.09ZM7.34,13.38a5.36,5.36,0,0,0,1.72-.31A3.63,3.63,0,0,0,10.63,12,2.62,2.62,0,0,0,11.19,11a5.63,5.63,0,0,0,.16-1.44v-.7a14.35,14.35,0,0,0-1.53-.28,12.37,12.37,0,0,0-1.56-.1,3.84,3.84,0,0,0-2.47.67A2.34,2.34,0,0,0,5,11a2.35,2.35,0,0,0,.61,1.76A2.4,2.4,0,0,0,7.34,13.38Zm13.35,1.8a1,1,0,0,1-.64-.16,1.3,1.3,0,0,1-.35-.65L15.81,1.51a3,3,0,0,1-.15-.67.36.36,0,0,1,.41-.41H17.7a1,1,0,0,1,.65.16,1.4,1.4,0,0,1,.33.65l2.79,11,2.59-11A1.17,1.17,0,0,1,24.39.6a1.1,1.1,0,0,1,.67-.16H26.4a1.1,1.1,0,0,1,.67.16,1.17,1.17,0,0,1,.32.65L30,12.39,32.88,1.25A1.39,1.39,0,0,1,33.22.6a1,1,0,0,1,.65-.16h1.54a.36.36,0,0,1,.41.41,1.36,1.36,0,0,1,0,.26,3.64,3.64,0,0,1-.12.41l-4,12.86a1.3,1.3,0,0,1-.35.65,1,1,0,0,1-.64.16H29.25a1,1,0,0,1-.67-.17,1.26,1.26,0,0,1-.32-.67L25.67,3.64,23.11,14.34a1.26,1.26,0,0,1-.32.67,1,1,0,0,1-.67.17Zm21.36.44a11.28,11.28,0,0,1-2.56-.29,7.44,7.44,0,0,1-1.92-.67,1,1,0,0,1-.61-.93v-.84q0-.52.38-.52a.9.9,0,0,1,.31.06l.42.17a8.77,8.77,0,0,0,1.83.58,9.78,9.78,0,0,0,2,.2,4.48,4.48,0,0,0,2.43-.55,1.76,1.76,0,0,0,.86-1.57,1.61,1.61,0,0,0-.45-1.16A4.29,4.29,0,0,0,43,9.22l-2.41-.76A5.15,5.15,0,0,1,38,6.78a3.94,3.94,0,0,1-.83-2.41,3.7,3.7,0,0,1,.45-1.85,4.47,4.47,0,0,1,1.19-1.37A5.27,5.27,0,0,1,40.51.29,7.4,7.4,0,0,1,42.6,0a8.87,8.87,0,0,1,1.12.07q.57.07,1.08.19t.95.26a4.27,4.27,0,0,1,.7.29,1.59,1.59,0,0,1,.49.41.94.94,0,0,1,.15.55v.79q0,.52-.38.52a1.76,1.76,0,0,1-.64-.2,7.74,7.74,0,0,0-3.2-.64,4.37,4.37,0,0,0-2.21.47,1.6,1.6,0,0,0-.79,1.48,1.58,1.58,0,0,0,.49,1.18,4.94,4.94,0,0,0,1.83.92L44.55,7a5.08,5.08,0,0,1,2.57,1.6A3.76,3.76,0,0,1,47.9,11a4.21,4.21,0,0,1-.44,1.93,4.4,4.4,0,0,1-1.21,1.47,5.43,5.43,0,0,1-1.85.93A8.25,8.25,0,0,1,42.05,15.62Z"></path><path class="cls-2" d="M45.19,23.81C39.72,27.85,31.78,30,25,30A36.64,36.64,0,0,1,.22,20.57c-.51-.46-.06-1.09.56-.74A49.78,49.78,0,0,0,25.53,26.4,49.23,49.23,0,0,0,44.4,22.53C45.32,22.14,46.1,23.14,45.19,23.81Z"></path><path class="cls-2" d="M47.47,21.21c-.7-.9-4.63-.42-6.39-.21-.53.06-.62-.4-.14-.74,3.13-2.2,8.27-1.57,8.86-.83s-.16,5.89-3.09,8.35c-.45.38-.88.18-.68-.32C46.69,25.8,48.17,22.11,47.47,21.21Z"></path></svg></a>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="../js/lunr.min.js?1615889543"></script>
<script type="text/javascript" src="../js/auto-complete.js?1615889543"></script>
<script type="text/javascript">
    
        var baseurl = "";
    
</script>
<script type="text/javascript" src="../js/search.js?1615889543"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">

        
          
          


 
  
    
    <li data-nav-id="/introduction.html" title="Introduction" class="dd-item 
        
        
        
        ">
      <a href="../introduction.html">
          Introduction
          
      </a>
      
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/day-1-networking-foundations.html" title="Networking Fundamentals" class="dd-item 
        
        
        
        ">
      <a href="../day-1-networking-foundations.html">
          Networking Fundamentals
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/day-1-networking-foundations/network-definition.html" title="What is a network?" class="dd-item ">
        <a href="../day-1-networking-foundations/network-definition.html">
        What is a network?
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/day-1-networking-foundations/osi-model.html" title="OSI Model" class="dd-item ">
        <a href="../day-1-networking-foundations/osi-model.html">
        OSI Model
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/day-1-networking-foundations/subnetting.html" title="Subnetting" class="dd-item ">
        <a href="../day-1-networking-foundations/subnetting.html">
        Subnetting
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/day-1-networking-foundations/routing.html" title="Routing" class="dd-item ">
        <a href="../day-1-networking-foundations/routing.html">
        Routing
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/day-1-networking-foundations/dnsdhcp.html" title="DNS/DHCP" class="dd-item ">
        <a href="../day-1-networking-foundations/dnsdhcp.html">
        DNS/DHCP
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/day-1-networking-foundations/homework.html" title="Homework" class="dd-item ">
        <a href="../day-1-networking-foundations/homework.html">
        Homework
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/day-2-aws-networking-basics.html" title="AWS Networking basics" class="dd-item 
        parent
        
        
        ">
      <a href="../day-2-aws-networking-basics.html">
          AWS Networking basics
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/day-2-aws-networking-basics/aws-infrastructure.html" title="AWS Infrastructure" class="dd-item ">
        <a href="../day-2-aws-networking-basics/aws-infrastructure.html">
        AWS Infrastructure
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/day-2-aws-networking-basics/whats-a-vpc.html" title="What is a VPC?" class="dd-item ">
        <a href="../day-2-aws-networking-basics/whats-a-vpc.html">
        What is a VPC?
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/day-2-aws-networking-basics/privatepublic.html" title="Private/Public concepts" class="dd-item active">
        <a href="../day-2-aws-networking-basics/privatepublic.html">
        Private/Public concepts
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/day-2-aws-networking-basics/security.html" title="Security in a VPC" class="dd-item ">
        <a href="../day-2-aws-networking-basics/security.html">
        Security in a VPC
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/day-2-aws-networking-basics/load-balancing.html" title="Elastic Load Balancing" class="dd-item ">
        <a href="../day-2-aws-networking-basics/load-balancing.html">
        Elastic Load Balancing
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/day-2-aws-networking-basics/lab.html" title="ELB LAB" class="dd-item ">
        <a href="../day-2-aws-networking-basics/lab.html">
        ELB LAB
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/day-2-aws-networking-basics/route53.html" title="Route53" class="dd-item ">
        <a href="../day-2-aws-networking-basics/route53.html">
        Route53
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/day-3-aws-advanced-networking.html" title="AWS Advanced Networking" class="dd-item 
        
        
        
        ">
      <a href="../day-3-aws-advanced-networking.html">
          AWS Advanced Networking
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/day-3-aws-advanced-networking/hybrid-cloud.html" title="Hybrid Connectivity" class="dd-item ">
        <a href="../day-3-aws-advanced-networking/hybrid-cloud.html">
        Hybrid Connectivity
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/day-3-aws-advanced-networking/vpc-peering.html" title="VPC Peering" class="dd-item ">
        <a href="../day-3-aws-advanced-networking/vpc-peering.html">
        VPC Peering
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/day-3-aws-advanced-networking/lab.html" title="VPC Peering LAB" class="dd-item ">
        <a href="../day-3-aws-advanced-networking/lab.html">
        VPC Peering LAB
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/day-3-aws-advanced-networking/transit-gateway.html" title="Transit Gateway" class="dd-item ">
        <a href="../day-3-aws-advanced-networking/transit-gateway.html">
        Transit Gateway
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/day-3-aws-advanced-networking/vpc-endpoints.html" title="VPC Endpoints" class="dd-item ">
        <a href="../day-3-aws-advanced-networking/vpc-endpoints.html">
        VPC Endpoints
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/lab_diagram.html" title="Lab Architecture" class="dd-item 
        
        
        
        ">
      <a href="../lab_diagram.html">
          Lab Architecture
          
      </a>
      
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/further_reading.html" title="Further Reading" class="dd-item 
        
        
        
        ">
      <a href="../further_reading.html">
          Further Reading
          
      </a>
      
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/faq.html" title="FAQs" class="dd-item 
        
        
        
        ">
      <a href="../faq.html">
          FAQs
          
      </a>
      
              
    </li>
  
 

          
         
    </ul>

    
    
      <section id="shortcuts">
        <h3>More</h3>
        <ul>
          
              <li> 
                  <a class="padding" href="https://www.linkedin.com/in/marine-haddad-38a542b5/"><i class='fab fa-linkedin fa-lg'></i> Marine Haddad</a>
              </li>
          
              <li> 
                  <a class="padding" href="https://www.linkedin.com/in/adrianna-kurzela-26b88210b/"><i class='fab fa-linkedin fa-lg'></i> Adrianna Kurzela</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="footer">
      <left>

    

    <a href="https://aws.amazon.com/privacy/?nc1=f_pr">Privacy</a> | <a href="https://aws.amazon.com/terms/?nc1=f_pr">Site Terms</a> | Â© 2021, Amazon Web Services, Inc. or its affiliates. All rights reserved. 

</left>

<script async defer src="https://buttons.github.io/buttons.js"></script>

    </section>
  </div>
</nav>





        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                  
                  
                  
                  <div id="top-github-link">
                    <a class="github-link" title='Edit this page' href="https://github.com/marinehadd/aws-cloudops-networking/edit/master/content/Day%202%20-%20AWS%20Networking%20basics/PrivatePublic.md" target="blank">
                      <i class="fas fa-code-branch"></i>
                      <span id="top-github-link-text">Edit this page</span>
                    </a>
                  </div>
                  
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                    
          
          
            
            
          
          
            
            
          
          
            <a href='../'>Welcome to the Amazon CloudOps Networking Workshop!</a> > <a href='../day-2-aws-networking-basics.html'>AWS Networking basics</a> > Private/Public concepts
          
         
          
         
          
           
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents"></nav>
    </div>
</div>

                
              </div>
            </div>
            

        
        <div id="body-inner">
          
            <h1>Private/Public concepts</h1>
          

        


<p>Resources launched inside a VPC will be assigned an IP address from the CIDR block assigned. For example, for a <em>10.0.0.0/16</em> CIDR block, an EC2 instance could have <em>10.0.0.42</em> as its IP address, depending on which subnet it lives in.</p>
<p>All IPs inside that VPC CIDR block are private : they only make sense inside that VPC and cannot be reached from the Internet or from any other network/VPC unless the routing has been setup accordingly.
In order to make an EC2 instance publicly reachable, two conditions must be fulfilled:</p>
<ul>
<li>the EC2 instance must have a public IP address</li>
<li>an <strong>Internet Gateway</strong> must be attached to its VPC route table</li>
</ul>
<p>An Internet Gateway is a highly available component that brings connectivity to your VPC, allowing access to the Internet. Your public resources must reside in a subnet that&rsquo;s associated with a route table that has a route to an Internet Gateway. This subnet is called a <strong>public subnet</strong>.</p>
<img src='../images/nat-gateway-diagram.png'>
<p>A <strong>private subnet</strong>, on the other hand, is associated with a route table that does not have a route to an Internet Gateway. The resources that should remain private, reside in these subnets.
However, it can happen that some private resources need access to the Internet to download some software, but while remaining unaccessible from the Internet. In this case, you can configure a <strong>NAT Gateway</strong> to allow egress Internet access from the private instances.</p>
<p>The NAT Gateway allow your EC2 instance to connect to the Internet, but prevent the Internet from connecting to it. The NAT Gateway resides in a public subnet in a certain Availability Zone. In order to allow your private subnets to use the NAT Gateway to connect to the Internet, you must add it to the route tables they are associated with.
Note that a NAT Gateway still needs an Internet Gateway to access the Internet. The NAT is only present to proxy the Internet traffic for the private instances, but the Internet Gateway remains the main and only Internet exit gate for a VPC.</p>
<p>Note that all subnets in a VPC, regardless of being public or private, can communicate with each other by default because they belong to the same VPC CIDR. This is not a traditional networking use case, but in AWS, when the VPC gets created, all route tables are assigned a route to the VPC CIDR.</p>
<h4>LAB 2:</h4>
<p>Refer to <a href="../lab_diagram.html">Lab Architecture</a> for architecture.</p>
<p><strong>Create a public subnet:</strong></p>
<ul>
<li>Go to VPC Services and on the left panel, click on <em>Subnets</em></li>
<li>Click on <em>Create Subnet</em>
<ul>
<li>choose your VPC from the list</li>
<li>give it a name (PublicSub-&ldquo;Your Initials&rdquo;)</li>
<li>choose one of the Availability Zones</li>
<li>Use the first /24 of your VPC CIDR (i.e. 10.10.0.0/24)</li>
<li>Click <em>Create Subnet</em></li>
</ul>
</li>
</ul>
<p>Now, your subnet is setup but can only communicate within the VPC by default.</p>
<ul>
<li>In the VPC Services tab, click on <em>Route Tables</em></li>
<li>Click on <em>Create Route Table</em>
<ul>
<li>choose your VPC from the list</li>
<li>give it a name (PublicRT-&ldquo;Your Initials&rdquo;)</li>
<li>Click <em>Create</em></li>
</ul>
</li>
<li>On the Route Tables interface, look for your route table:
<ul>
<li>select the route table</li>
<li>on the panel at the bottom, click on <em>Subnet Associations</em></li>
<li><em>Edit subnet associations</em> and select your public subnet and <em>Save</em></li>
</ul>
</li>
</ul>
<p>Now, you have a public route table that will be used to route all external (such as Internet) traffic to and from your public subnet. However, we still don&rsquo;t know how to go to the Internet as we have no exit door yet.</p>
<ul>
<li>In the VPC Services tab, click on <em>Internet Gateways</em></li>
<li>Click on <em>Create Internet Gateway</em>
<ul>
<li>give it a name (IGW-&ldquo;Your Initials&rdquo;) and <em>Create</em></li>
</ul>
</li>
<li>Once it is created, you should be on its configuration page:
<ul>
<li>click <em>Actions</em> and select <em>Attach to VPC</em></li>
<li>select your VPC and <em>Attach</em></li>
</ul>
</li>
</ul>
<p>Now, your Internet Gateway belongs to your VPC environment, so we can set it up to route all Internet traffic.</p>
<ul>
<li>In the VPC Services tab, click on <em>Route Tables</em></li>
<li>On the Route Tables interface, look for your public route table:
<ul>
<li>select the public route table</li>
<li>on the panel at the bottom, click on <em>Routes</em> then <em>Edit routes</em></li>
<li>Click <em>Add route</em>, set the following:
<ul>
<li>Destination: 0.0.0.0/0   (0/0 means everywhere, it is not restricted to a specific network)</li>
<li>Target: Select Internet Gateway from the drop-down and click on your IGW-XXXX</li>
</ul>
</li>
<li>Save the changes</li>
</ul>
</li>
</ul>
<p>Now, you have a public subnet! In a few sections, we will setup an EC2 instance, called public instance as a result of sitting in a public subnet, and test connectivity to the Internet.</p>
<p><strong>Create a private subnet:</strong></p>
<ul>
<li>Go to VPC Services and on the left panel, click on <em>Subnets</em></li>
<li>Click on <em>Create Subnet</em>
<ul>
<li>choose your VPC from the list</li>
<li>give it a name (PrivateSub-&ldquo;Your Initials&rdquo;)</li>
<li>choose one of the Availability Zones</li>
<li>Use the second /24 of your VPC CIDR (i.e. 10.10.1.0/24)</li>
<li>Click <em>Create Subnet</em></li>
</ul>
</li>
</ul>
<p>Now, your subnet is setup but can only communicate within the VPC by default.</p>
<ul>
<li>In the VPC Services tab, click on <em>Route Tables</em></li>
<li>Click on <em>Create Route Table</em>
<ul>
<li>choose your VPC from the list</li>
<li>give it a name (PrivateRT-&ldquo;Your Initials&rdquo;)</li>
<li>Click <em>Create</em></li>
</ul>
</li>
<li>On the Route Tables interface, look for your route table:
<ul>
<li>select the route table</li>
<li>on the panel at the bottom, click on <em>Subnet Associations</em></li>
<li><em>Edit subnet associations</em> and select your private subnet and <em>Save</em></li>
</ul>
</li>
</ul>
<p>Now, you have a private route table that will be used to route internal traffic. At the moment, we are unable to reach the Internet since we have no NAT Gateway.</p>
<ul>
<li>In the VPC Services tab, click on <em>NAT Gateways</em></li>
<li>Click on <em>Create NAT Gateway</em>
<ul>
<li>give it a name (NGW-&ldquo;Your Initials&rdquo;) and <em>Create</em></li>
<li>select your public subnet  <strong>(We choose the public subnet just to configure the NAT, since a NAT is a public instance)</strong></li>
<li>click <em>Allocate Elastic IP</em> and <em>Create</em></li>
</ul>
</li>
</ul>
<p>Now, your NAT Gateway belongs to your VPC environment because it is setup in its public subnet. It is therefore ready to be setup and used by the private subnet.</p>
<ul>
<li>In the VPC Services tab, click on <em>Route Tables</em></li>
<li>On the Route Tables interface, look for your private route table:
<ul>
<li>select the private route table</li>
<li>on the panel at the bottom, click on <em>Routes</em> then <em>Edit routes</em></li>
<li>Click <em>Add route</em>, set the following:
<ul>
<li>Destination: 0.0.0.0/0   (0/0 means everywhere, it is not restricted to a specific network)</li>
<li>Target: Select NAT Gateway from the drop-down and click on your NGW-XXXX</li>
</ul>
</li>
<li>Save the changes</li>
</ul>
</li>
</ul>
<p>Now, you have a private subnet with outbound access to the Internet. In the next section, we will setup an EC2 instance, called private instance as a result of sitting in a private subnet, and test outbound connectivity to the Internet.</p>


<footer class=" footline" >
	
</footer>


        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
        
        


	 
	 
		
			<a class="nav nav-prev" href="../day-2-aws-networking-basics/whats-a-vpc.html" title="What is a VPC?"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="../day-2-aws-networking-basics/security.html" title="Security in a VPC" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="../js/clipboard.min.js?1615889543"></script>
    <script src="../js/perfect-scrollbar.min.js?1615889543"></script>
    <script src="../js/perfect-scrollbar.jquery.min.js?1615889543"></script>
    <script src="../js/jquery.sticky.js?1615889543"></script>
    <script src="../js/featherlight.min.js?1615889543"></script>
    <script src="../js/highlight.pack.js?1615889543"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="../js/modernizr.custom-3.6.0.js?1615889543"></script>
    <script src="../js/learn.js?1615889543"></script>
    <script src="../js/hugo-learn.js?1615889543"></script>

    <link href="../mermaid/mermaid.css?1615889543" rel="stylesheet" />
    <script src="../mermaid/mermaid.js?1615889543"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    

  </body>
</html>

